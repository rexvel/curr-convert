(this["webpackJsonpcurr-convert"]=this["webpackJsonpcurr-convert"]||[]).push([[0],{190:function(e,t,n){e.exports=n(337)},336:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var a,r,c,o,u=n(0),l=n.n(u),i=n(36),s=n.n(i),h=n(31),b=n(40),f=n(165),v=n(166),d=n(16),p=n(345),C=n(28),O=n(58),j=n.n(O),m=n(113),E=n.n(m),y=n(353),g="https://currency.labstack.com/api/v1/",S="Bearer ".concat("iwwFEZRdX1o1-MIkeCJrEG94RYqvj2nGOPl77bnS93oiIE3vu17ey"),A=function(){return{baseURL:g,method:"get",url:"list",headers:{authorization:S}}},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{baseURL:g,method:"get",url:["convert",n,e,t].join("/"),headers:{authorization:S}}},R=Object(y.a)("FETCH_CURRENCIES_REQUEST"),w=Object(y.a)("FETCH_CURRENCIES_SUCCESS"),_=Object(y.a)("FETCH_CURRENCIES_FAILURE"),T=Object(y.a)("FETCH_CONVERTED_REQUEST"),U=Object(y.a)("FETCH_CONVERTED_SUCCESS"),Q=Object(y.a)("FETCH_CONVERTED_FAILURE"),x=Object(y.a)("SET_BASE_CURRENCY"),I=Object(y.a)("SET_QUOTE_CURRENCY"),q=Object(y.a)("SET_FIRST_AMOUNT"),N=Object(y.a)("SET_SECOND_AMOUNT"),F=Object(y.a)("SWITCH_INPUTS"),B=Object(y.a)("SET_SEARCH_QUERY"),H=Object(y.a)("CLEAR_SEARCH_QUERY"),L=function(e,t){return function(n){var a,r,c;return j.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n(T()),o.prev=1,a=k(e,t),o.next=5,j.a.awrap(E.a.request(a));case 5:r=o.sent,c=r.data.amount,n(U({rate:c})),o.next=14;break;case 10:throw o.prev=10,o.t0=o.catch(1),n(Q()),o.t0;case 14:case"end":return o.stop()}}),null,null,[[1,10]])}},M=Object(p.a)((a={},Object(d.a)(a,R,(function(){return"requested"})),Object(d.a)(a,_,(function(){return"failed"})),Object(d.a)(a,w,(function(){return"finished"})),a),"none"),P=Object(p.a)((r={},Object(d.a)(r,T,(function(){return"requested"})),Object(d.a)(r,Q,(function(){return"failed"})),Object(d.a)(r,U,(function(){return"finished"})),r),"none"),D=n(15),Y=Object(p.a)(Object(d.a)({},w,(function(e,t){var n=t.payload;return Object(C.a)({},e,{byCode:Object(D.keyBy)(n.currencies,"code"),allCodes:n.currencies.map((function(e){return e.code}))})})),{byCode:{},allCodes:[]}),G={mode:"first",base:"GBP",quote:"RUB",firstAmount:100,secondAmount:100,rate:1},W=Object(p.a)((c={},Object(d.a)(c,U,(function(e,t){var n=t.payload.rate,a=e.firstAmount,r=e.secondAmount,c=e.mode,o=1/n,u={first:{secondAmount:Object(D.floor)(a*n,2)},second:{firstAmount:Object(D.floor)(r*o,2)}};return Object(C.a)({},e,{},u[c],{rate:n})})),Object(d.a)(c,x,(function(e,t){var n=t.payload.value;return Object(C.a)({},e,{base:n})})),Object(d.a)(c,I,(function(e,t){var n=t.payload.value;return Object(C.a)({},e,{quote:n})})),Object(d.a)(c,q,(function(e,t){var n=t.payload.value,a=e.rate,r=Object(D.floor)(n*a,2);return Object(C.a)({},e,{firstAmount:n,secondAmount:r,mode:"first"})})),Object(d.a)(c,N,(function(e,t){var n=t.payload.value,a=e.rate,r=Object(D.floor)(n*(1/a),2);return Object(C.a)({},e,{firstAmount:r,secondAmount:n,mode:"second"})})),Object(d.a)(c,F,(function(e){var t=e.mode,n=e.rate,a=1/n,r={first:{secondAmount:Object(D.floor)(e.firstAmount*a,2)},second:{firstAmount:Object(D.floor)(e.secondAmount*n,2)}};return Object(C.a)({},e,{},r[t],{base:e.quote,quote:e.base,rate:a})})),c),G),J={searchQuery:""},V=Object(p.a)((o={},Object(d.a)(o,B,(function(e,t){var n=t.payload.value;return Object(C.a)({},e,{searchQuery:n})})),Object(d.a)(o,H,(function(){return J})),o),J),z=Object(b.combineReducers)({fetchCurrenciesState:M,fetchConvertState:P,currencies:Y,convert:W,search:V}),X=n(20),Z=n(21),K=n(23),$=n(22),ee=n(24),te=n(344),ne=n(351),ae=n(350),re=n(57),ce=n(349),oe=n(352),ue=n(343),le=n(348),ie=n(347),se=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=t.value;Object(D.invoke)(n.props,"onChange",e,{value:a})},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.currencies;return l.a.createElement(ie.a.Menu,{scrolling:!0},a.map((function(t){return l.a.createElement(ie.a.Item,{onClick:e.handleChange,active:t.code===n,key:t.code,value:t.code,text:t.name,description:t.code,style:{whiteSpace:"normal"}})})))}}]),t}(l.a.Component),he=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){e.stopPropagation(),Object(D.invoke)(n.props,"onClick",e,n.props)},n.handleChange=function(e,t){var a=t.value;Object(D.invoke)(n.props,"onChange",e,{value:a})},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props.value;return l.a.createElement(le.a,{onClick:this.handleClick,onChange:this.handleChange,value:e,icon:"search",iconPosition:"left",className:"search"})}}]),t}(l.a.Component),be=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e,t){Object(D.invoke)(n.props,"onClose",e,t)},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.value;return l.a.createElement(ie.a,{onClose:this.handleClose,value:n,text:n,button:!0,style:{position:"initial"}},l.a.createElement(ie.a.Menu,null,t))}}]),t}(l.a.Component);be.List=se,be.Search=he;var fe=be,ve=n(118),de=function(e){return e.replace(/,/g,".").replace(/^\./g,"0.").replace(/[^0-9.]|(?<=\.\d{2})\d*|\.(?=.*\.)/g,"")},pe=function(e){return e.search.searchQuery},Ce=Object(ve.a)([function(e){return e.currencies.byCode},function(e){return e.currencies.allCodes}],(function(e,t){return t.map((function(t){return e[t]}))})),Oe=Object(ve.a)([Ce,pe],(function(e,t){return t?function(e,t){var n=new RegExp(Object(D.escapeRegExp)(t),"i");return e.filter((function(e){return n.test(e.code)||n.test(e.name)}))}(e,t):e})),je={setSearchQuery:B,clearSearchQuery:H},me=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleAmoumtChange=function(e,t){var a=t.value,r=de(a);Object(D.invoke)(n.props,"onAmountChange",e,{value:r})},n.handleCurrencyChange=function(e,t){Object(D.invoke)(n.props,"onCurrencyChange",e,t)},n.handleSearchChange=function(e,t){var a=t.value;(0,n.props.setSearchQuery)({value:a})},n.handleSearchClear=function(){(0,n.props.clearSearchQuery)()},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.searchQuery,n=e.currencies,a=e.activeCode,r=e.amount;return l.a.createElement(le.a,{onChange:this.handleAmoumtChange,value:r,maxLength:12,placeholder:"Amount",fluid:!0,action:l.a.createElement(fe,{onClose:this.handleSearchClear,value:a},l.a.createElement(fe.Search,{onChange:this.handleSearchChange,value:t}),l.a.createElement(fe.List,{onChange:this.handleCurrencyChange,currencies:n,value:a}))})}}]),t}(l.a.Component),Ee=Object(h.b)((function(e){return{searchQuery:pe(e),currencies:Oe(e)}}),je)(me),ye={fetchConverted:L,setQuoteCurrency:I,setSecondAmount:N},ge=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=t.value;(0,n.props.setSecondAmount)({value:a})},n.handleClick=function(e,t){var a=t.value,r=n.props,c=r.setQuoteCurrency,o=r.fetchConverted,u=r.base;c({value:a}),o(u,a)},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.quote,n=e.secondAmount;return l.a.createElement(Ee,{activeCode:t,amount:n,onAmountChange:this.handleChange,onCurrencyChange:this.handleClick})}}]),t}(l.a.Component),Se=Object(h.b)((function(e){return e.convert}),ye)(ge),Ae={fetchConverted:L,setBaseCurrency:x,setFirstAmount:q},ke=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=t.value;(0,n.props.setFirstAmount)({value:a})},n.handleClick=function(e,t){var a=t.value,r=n.props,c=r.setBaseCurrency,o=r.fetchConverted,u=r.quote;c({value:a}),o(a,u)},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.base,n=e.firstAmount;return l.a.createElement(Ee,{activeCode:t,amount:n,onAmountChange:this.handleChange,onCurrencyChange:this.handleClick})}}]),t}(l.a.Component),Re=Object(h.b)((function(e){return e.convert}),Ae)(ke),we={switchInputs:F},_e=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){(0,n.props.switchInputs)()},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"renderErrMsg",value:function(){return l.a.createElement(ce.a,{negative:!0},l.a.createElement(ce.a.Header,null,"Sorry!"),l.a.createElement("p",null,"Service is not available now, please try again later."))}},{key:"renderWidget",value:function(){var e="requested"===this.props.fetchCurrenciesState;return l.a.createElement(oe.a,{loading:e},l.a.createElement(ne.a,{columns:"equal",stackable:!0},l.a.createElement(ne.a.Column,null,l.a.createElement(Re,null)),l.a.createElement(ne.a.Column,{width:"one"},l.a.createElement(ue.a,{vertical:!0},l.a.createElement(re.a,{onClick:this.handleClick,link:!0,name:"refresh"}))),l.a.createElement(ne.a.Column,null,l.a.createElement(Se,null))))}},{key:"render",value:function(){return"failed"===this.props.fetchCurrenciesState?this.renderErrMsg():this.renderWidget()}}]),t}(l.a.Component),Te=Object(h.b)((function(e){return{fetchCurrenciesState:e.fetchCurrenciesState}}),we)(_e),Ue=function(e){function t(){return Object(X.a)(this,t),Object(K.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return l.a.createElement(te.a,null,l.a.createElement(ne.a,{style:{height:"80vh"},textAlign:"center",verticalAlign:"middle"},l.a.createElement(ne.a.Column,null,l.a.createElement(ae.a,{as:"h2",color:"teal"},l.a.createElement(re.a,{name:"money bill alternate outline"})," Currency Converter"),l.a.createElement(Te,null),l.a.createElement("p",null,"2019 Currency converter widget"),l.a.createElement(re.a,{name:"github"}),l.a.createElement("a",{href:"https://github.com/wildneo/curr-convert"}," Source Code"))))}}]),t}(l.a.Component),Qe=(n(335),n(336),Object(b.createStore)(z,Object(f.composeWithDevTools)(Object(b.applyMiddleware)(v.a))));Qe.dispatch((function(e){var t,n;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(R()),a.prev=1,t=A(),a.next=5,j.a.awrap(E.a.request(t));case 5:return n=a.sent,a.next=8,j.a.awrap(e(L("GBP","RUB")));case 8:e(w(Object(C.a)({},n.data))),a.next=15;break;case 11:throw a.prev=11,a.t0=a.catch(1),e(_()),a.t0;case 15:case"end":return a.stop()}}),null,null,[[1,11]])})),s.a.render(l.a.createElement(h.a,{store:Qe},l.a.createElement(Ue,null)),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.5f619536.chunk.js.map