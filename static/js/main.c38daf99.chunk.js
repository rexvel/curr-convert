(this["webpackJsonpcurr-convert"]=this["webpackJsonpcurr-convert"]||[]).push([[0],{190:function(e,t,n){e.exports=n(337)},336:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var a,r,c,o=n(0),u=n.n(o),l=n(35),i=n.n(l),s=n(30),h=n(40),b=n(164),d=n(165),f=n(18),p=n(345),v=n(27),O=n(58),m=n.n(O),j=n(113),C=n.n(j),E=n(353),y="https://currency.labstack.com/api/v1/",g="Bearer ".concat("iwwFEZRdX1o1-MIkeCJrEG94RYqvj2nGOPl77bnS93oiIE3vu17ey"),A=function(){return{baseURL:y,method:"get",url:"list",headers:{authorization:g}}},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{baseURL:y,method:"get",url:["convert",n,e,t].join("/"),headers:{authorization:g}}},k=Object(E.a)("FETCH_CURRENCIES_REQUEST"),R=Object(E.a)("FETCH_CURRENCIES_SUCCESS"),w=Object(E.a)("FETCH_CURRENCIES_FAILURE"),T=Object(E.a)("FETCH_CONVERTED_REQUEST"),U=Object(E.a)("FETCH_CONVERTED_SUCCESS"),_=Object(E.a)("FETCH_CONVERTED_FAILURE"),x=Object(E.a)("SET_BASE_CURRENCY"),I=Object(E.a)("SET_QUOTE_CURRENCY"),q=Object(E.a)("SET_FIRST_AMOUNT"),F=Object(E.a)("SET_SECOND_AMOUNT"),N=Object(E.a)("SWITCH_INPUTS"),B=function(e,t){return function(n){var a,r,c;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n(T()),o.prev=1,a=S(e,t),o.next=5,m.a.awrap(C.a.request(a));case 5:r=o.sent,c=r.data.amount,n(U({rate:c})),o.next=14;break;case 10:throw o.prev=10,o.t0=o.catch(1),n(_()),o.t0;case 14:case"end":return o.stop()}}),null,null,[[1,10]])}},H=Object(p.a)((a={},Object(f.a)(a,k,(function(){return"requested"})),Object(f.a)(a,w,(function(){return"failed"})),Object(f.a)(a,R,(function(){return"finished"})),a),"none"),M=Object(p.a)((r={},Object(f.a)(r,T,(function(){return"requested"})),Object(f.a)(r,_,(function(){return"failed"})),Object(f.a)(r,U,(function(){return"finished"})),r),"none"),V=n(38),D=Object(p.a)(Object(f.a)({},R,(function(e,t){var n=t.payload;return Object(v.a)({},e,{byCode:Object(V.keyBy)(n.currencies,"code"),allCodes:n.currencies.map((function(e){return e.code}))})})),{byCode:{},allCodes:[]}),L={mode:"first",base:"GBP",quote:"RUB",firstAmount:100,secondAmount:100,rate:1},Q=Object(p.a)((c={},Object(f.a)(c,U,(function(e,t){var n=t.payload.rate,a=e.firstAmount,r=e.secondAmount,c=e.mode,o=1/n,u={first:{secondAmount:Object(V.floor)(a*n,2)},second:{firstAmount:Object(V.floor)(r*o,2)}};return Object(v.a)({},e,{},u[c],{rate:n})})),Object(f.a)(c,x,(function(e,t){var n=t.payload.value;return Object(v.a)({},e,{base:n})})),Object(f.a)(c,I,(function(e,t){var n=t.payload.value;return Object(v.a)({},e,{quote:n})})),Object(f.a)(c,q,(function(e,t){var n=t.payload.value,a=e.rate,r=Object(V.floor)(n*a,2);return Object(v.a)({},e,{firstAmount:n,secondAmount:r,mode:"first"})})),Object(f.a)(c,F,(function(e,t){var n=t.payload.value,a=e.rate,r=Object(V.floor)(n*(1/a),2);return Object(v.a)({},e,{firstAmount:r,secondAmount:n,mode:"second"})})),Object(f.a)(c,N,(function(e){var t=e.mode,n=e.rate,a=1/n,r={first:{secondAmount:Object(V.floor)(e.firstAmount*a,2)},second:{firstAmount:Object(V.floor)(e.secondAmount*n,2)}};return Object(v.a)({},e,{},r[t],{base:e.quote,quote:e.base,rate:a})})),c),L),G=Object(h.combineReducers)({fetchCurrenciesState:H,fetchConvertState:M,currencies:D,convert:Q}),P=n(20),W=n(21),J=n(23),Y=n(22),z=n(24),X=n(344),Z=n(351),K=n(350),$=n(57),ee=n(349),te=n(352),ne=n(343),ae=n(348),re=n(347),ce=n(166),oe=Object(ce.a)([function(e){return e.currencies.byCode},function(e){return e.currencies.allCodes}],(function(e,t){return t.map((function(t){return e[t]}))})),ue=function(e){function t(){return Object(P.a)(this,t),Object(J.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.currencies,a=e.onChange;return n.map((function(e){return u.a.createElement(re.a.Item,{active:e.code===t,onClick:a,key:e.code,value:e.code,text:e.name,description:e.code,style:{whiteSpace:"normal"}})}))}}]),t}(u.a.Component),le=Object(s.b)((function(e){return{currencies:oe(e)}}))(ue),ie=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).state={currentValue:n.props.value},n.handleUpdate=function(e,t){var a=t.value;n.setState({currentValue:a})},n}return Object(z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,a=this.state.currentValue;return u.a.createElement(re.a,{onOpen:this.handleUpdate,button:!0,scrolling:!0,text:t,value:t,style:{position:"initial"}},u.a.createElement(re.a.Menu,null,u.a.createElement(le,{value:a,onChange:n})))}}]),t}(u.a.Component),se=function(e){return e.replace(/,/g,".").replace(/^\./g,"0.").replace(/[^0-9.]|(?<=\.\d{2})\d*|\.(?=.*\.)/g,"")},he=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=n.props.onAmountChange,r=t.value,c=se(r);a(e,Object(v.a)({},t,{value:c}))},n}return Object(z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCurrencyChange,n=e.text,a=e.amount;return u.a.createElement(ae.a,{onChange:this.handleChange,value:a,fluid:!0,maxLength:12,placeholder:"Amount",action:u.a.createElement(ie,{onChange:t,value:n})})}}]),t}(u.a.Component),be={fetchConverted:B,setQuoteCurrency:I,setSecondAmount:F},de=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=t.value;(0,n.props.setSecondAmount)({value:a})},n.handleClick=function(e,t){var a=t.value,r=n.props,c=r.setQuoteCurrency,o=r.fetchConverted,u=r.base;c({value:a}),o(u,a)},n}return Object(z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.quote,n=e.secondAmount;return u.a.createElement(he,{text:t,amount:n,onAmountChange:this.handleChange,onCurrencyChange:this.handleClick})}}]),t}(u.a.Component),fe=Object(s.b)((function(e){return e.convert}),be)(de),pe={fetchConverted:B,setBaseCurrency:x,setFirstAmount:q},ve=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=t.value;(0,n.props.setFirstAmount)({value:a})},n.handleClick=function(e,t){var a=t.value,r=n.props,c=r.setBaseCurrency,o=r.fetchConverted,u=r.quote;c({value:a}),o(a,u)},n}return Object(z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.base,n=e.firstAmount;return u.a.createElement(he,{text:t,amount:n,onAmountChange:this.handleChange,onCurrencyChange:this.handleClick})}}]),t}(u.a.Component),Oe=Object(s.b)((function(e){return e.convert}),pe)(ve),me={switchInputs:N},je=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){(0,n.props.switchInputs)()},n}return Object(z.a)(t,e),Object(W.a)(t,[{key:"renderErrMsg",value:function(){return u.a.createElement(ee.a,{negative:!0},u.a.createElement(ee.a.Header,null,"Sorry!"),u.a.createElement("p",null,"Service is not available now, please try again later."))}},{key:"renderWidget",value:function(){var e="requested"===this.props.fetchCurrenciesState;return u.a.createElement(te.a,{loading:e},u.a.createElement(Z.a,{columns:"equal",stackable:!0},u.a.createElement(Z.a.Column,null,u.a.createElement(Oe,null)),u.a.createElement(Z.a.Column,{width:"one"},u.a.createElement(ne.a,{vertical:!0},u.a.createElement($.a,{onClick:this.handleClick,link:!0,name:"refresh"}))),u.a.createElement(Z.a.Column,null,u.a.createElement(fe,null))))}},{key:"render",value:function(){return"failed"===this.props.fetchCurrenciesState?this.renderErrMsg():this.renderWidget()}}]),t}(u.a.Component),Ce=Object(s.b)((function(e){return{fetchCurrenciesState:e.fetchCurrenciesState}}),me)(je),Ee=function(e){function t(){return Object(P.a)(this,t),Object(J.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){return u.a.createElement(X.a,null,u.a.createElement(Z.a,{style:{height:"80vh"},textAlign:"center",verticalAlign:"middle"},u.a.createElement(Z.a.Column,null,u.a.createElement(K.a,{as:"h2",color:"teal"},u.a.createElement($.a,{name:"money bill alternate outline"})," Currency Converter"),u.a.createElement(Ce,null),u.a.createElement("p",null,"2019 Currency converter widget"),u.a.createElement($.a,{name:"github"}),u.a.createElement("a",{href:"https://github.com/wildneo/curr-convert"}," Source Code"))))}}]),t}(u.a.Component),ye=(n(335),n(336),Object(h.createStore)(G,Object(b.composeWithDevTools)(Object(h.applyMiddleware)(d.a))));ye.dispatch((function(e){var t,n;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(k()),a.prev=1,t=A(),a.next=5,m.a.awrap(C.a.request(t));case 5:return n=a.sent,a.next=8,m.a.awrap(e(B("GBP","RUB")));case 8:e(R(Object(v.a)({},n.data))),a.next=15;break;case 11:throw a.prev=11,a.t0=a.catch(1),e(w()),a.t0;case 15:case"end":return a.stop()}}),null,null,[[1,11]])})),i.a.render(u.a.createElement(s.a,{store:ye},u.a.createElement(Ee,null)),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.c38daf99.chunk.js.map